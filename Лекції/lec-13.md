# Масиви

[Перелік лекцій](README.md)

## Узагальнено

Масиви є структурами даних, які дозволяють зберігати кілька значень одного типу в послідовно розташованих елементах пам'яті.

Основні риси масивів в C++:

1. Тип даних елементів: Масив може містити елементи одного типу даних, такого як цілі числа, дійсні числа, символи, вказівники тощо.

2. Фіксований розмір: Розмір масиву визначається при його оголошенні та залишається фіксованим протягом життєвого циклу масиву. Змінити розмір масиву під час виконання програми неможливо.

3. Індексація елементів: Елементи масиву доступні за допомогою індексів, починаючи з 0. Наприклад, перший елемент масиву має індекс 0, другий - індекс 1, і так далі.

4. Послідовний доступ до елементів: Елементи масиву зберігаються в послідовному порядку в пам'яті, тому до них можна отримати доступ за допомогою арифметики вказівників.

В мові С++ відсутнє поняття "ассоціативного масиву" а також будь-який масив є статичною, з точки зору теорії алгоритмів, структурою, навіть якщо він розміщений у динамічній пам'яті.

## Операції з масивами

Над масивами у мові С++ можна виконати наступні операції:

1. Оголошення масиву: Масив може бути оголошений за допомогою ключового слова type (тип даних) та імені масиву, а також його розміру в квадратних дужках. Наприклад: int myArray[5]; оголошує масив myArray типу int з розміром 5 елементів.

2. Ініціалізація масиву: Масив може бути ініціалізований при його оголошенні або пізніше за допомогою присвоєння значень його елементам. Наприклад: int myArray[5] = {1, 2, 3, 4, 5}; оголошує масив myArray з розміром 5 елементів та ініціалізує його значеннями 1, 2, 3, 4, 5.

3. Доступ до елементів масиву: Елементи масиву можна отримати за допомогою їхніх індексів, використовуючи квадратні дужки та індекс елемента. Наприклад: int x = myArray[2]; отримує значення третього елемента масиву myArray та присвоює його змінній x.

4. Зміна значень елементів масиву: Значення елементів масиву можна змінювати, присвоюючи нові значення за допомогою оператора присвоєння (=). Наприклад: myArray[1] = 10; змінює значення другого елемента масиву myArray на 10.

5. Похибка виходу за межі масиву: Важливо зазначити, що в C++ немає перевірки на виходження за межі масиву під час доступу до його елементів. Якщо спробувати отримати доступ до елемента за індексом, який перевищує розмір масиву, може виникнути непередбачена поведінка або помилка.

6. Динамічні масиви: Окрім масивів з фіксованим розміром, в C++ також є можливість створювати динамічні масиви, розмір яких визначається під час виконання програми. Динамічні масиви створюються за допомогою оператора new та видаляються за допомогою оператора delete, і вони дозволяють більш гнучке управління пам'яттю.

7. Багатовимірні масиви: Масиви в C++ також можуть бути багатовимірними, тобто мати більше одного розміру. Наприклад, двовимірний масив - це масив, який має дві розмірності, такі як рядки та стовпці, іможе бути представлений у вигляді таблиці. Для доступу до елементів багатовимірного масиву використовуються кілька індексів, наприклад: int value = myArray[2][3]; отримує значення елемента з третього рядка та четвертого стовпця двовимірного масиву myArray.

8. Функції з масивами: Масиви також можуть бути передані в функції в C++ як аргументи, або функції можуть повертати масив як результат. Однак, масиви при передачі в функції передаються за посиланням, що може вплинути на їхню модифікацію всередині функції.

9. Арифметика вказівників на масиви: У C++ масиви можуть бути інтерпретовані як вказівники, і можна виконувати арифметичні операції на вказівниках на масиви, такі як додавання, віднімання, інкремент, декремент тощо. Наприклад, int* ptr = myArray; оголошує вказівник ptr, який вказує на початок масиву myArray, і ми можемо використовувати цей вказівник для доступу до елементів масиву.

## Статичні та динамічні масиви

Статичні та динамічні масиви - це два типи масивів, які можна використовувати в мові програмування C++.

Статичні масиви: Статичні масиви в C++ визначаються на етапі компіляції та мають фіксований розмір, який вказується в коді програми. Статичні масиви використовуються для зберігання елементів одного типу даних в послідовному блоку пам'яті. Оголошення статичного масиву має наступний синтаксис:

```cpp
тип_даних ім'я_масиву[розмір];
```

Наприклад, оголошення статичного масиву цілих чисел з розміром 5 виглядатиме так:

```cpp
int myArray[5];
```

Статичні масиви займають простір у пам'яті на стеку, і їхній розмір відомий на етапі компіляції. Вони мають автоматичний час життя та автоматичне керування пам'яттю, що означає, що пам'ять для статичного масиву виділяється автоматично при вході в область видимості масиву та звільняється автоматично при виході з області видимості.

Динамічні масиви: Динамічні масиви в C++ виділяються в динамічному пам'яті (heap) вручну за допомогою оператора new, і мають динамічний розмір, який може бути визначений під час виконання програми. Оголошення динамічного масиву має наступний синтаксис:

```cpp
тип_даних* ім'я_вказівника = new тип_даних[розмір];
```

Наприклад, виділення пам'яті для динамічного масиву цілих чисел з розміром 5 виглядатиме так:

```cpp
int* myArray = new int[5];
```

Динамічні масиви займають простір у пам'яті на купці (heap), і вони мають ручне керування пам'яттю. Це означає, що пам'ять для динамічного масиву виділяється вручну за допомогою оператора new, і потрібно вручну звільнити цю пам'ять після закінчення використання масиву за допомогою оператора delete. Невірне керування пам'яттю може призвести до витоку пам'яті (memory leak) або помилок в роботі програми.

Динамічні масиви дають більшу гнучкість в розмірі та керуванні пам'яттю, оскільки розмір масиву може бути визначений виключно на етапі виконання програми, і масив може бути змінений під час виконання. Однак, використання динамічних масивів вимагає більшої уваги до керування пам'яттю, щоб уникнути витоків пам'яті та інших помилок.

Ось приклад використання статичного масиву:

```cpp
int myArray[5]; // оголошення статичного масиву цілих чисел з розміром 5
myArray[0] = 1; // ініціалізація елементу масиву
```

І приклад використання динамічного масиву:

```cpp
int* myArray = new int[5]; // виділення пам'яті для динамічного масиву цілих чисел з розміром 5
myArray[0] = 1; // ініціалізація елементу масиву
delete[] myArray; // звільнення пам'яті після використання масиву
```

Загалом, статичні та динамічні масиви мають свої відмінності в розмірі, способі виділення/звільнення пам'яті та керуванні пам'яттю, і вибір між ними залежить від вимог конкретної задачі та особливостей програми.