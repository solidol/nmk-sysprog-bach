# Перевантаження операторів

[Перелік лекцій](README.md)

## Узагальнено

Перевантаження операторів у C++ - це можливість визначати власні варіанти роботи операторів з користувацьких типів даних. Це дозволяє вам використовувати стандартні оператори, такі як `+`, `-`, `*`, `/` і багато інших, з власними класами або структурами даних.

При перевантаженні оператора ви можете визначити його функціональність для ваших типів даних. Наприклад, ви можете визначити власний спосіб додавання, віднімання, множення або ділення об'єктів вашого класу.

## Порядок перевантаження операторів

Для перевантаження операторів у C++ потрібно використовувати спеціальний синтаксис та правила:

1. Оператори можна перевантажувати тільки для користувацьких типів даних, таких як класи або структури.

2. Оператори можна перевантажувати як відносні до класу (як методи класу), так і глобальні (поза класом).

3. Для перевантаження оператора в класі використовується ключове слово `operator` за яким йде символ оператора, який ви хочете перевантажити.

4. При перевантаженні операторів в класі можна використовувати як один, так і два операнди. Один операнд відповідає об'єкту класу, для якого викликається оператор, а другий - операнду, з яким проводиться операція.

5. Для деяких операторів, таких як `=`, `()`, `[]` та `->`, перевантаження має строго визначену семантику.

6. При перевантаженні операторів глобально використовується звичайна функція, яка приймає два операнди в якості параметрів.

7. Перевантаження операторів може мати різний рівень доступу, включаючи public, private та protected.

8. При перевантаженні операторів слід дотримуватися правил обробки помилок та розумного керування пам'яттю.

## Список операторів, які можуть бути перевантаженими

1. Арифметичні оператори:

- `+`: додавання
- `-`: віднімання
- `*`: множення
- `/`: ділення
- `%`: остача від ділення
- `++`: інкремент
- `--`: декремент

2. Оператори присвоєння:

- `=`: присвоєння
- `+=`: додавання та присвоєння
- `-=`: віднімання та присвоєння
- `*=`: множення та присвоєння
- `/=`: ділення та присвоєння
- `%=`: остача від ділення та присвоєння

3. Оператори порівняння:

- `==`: рівність
- `!=`: нерівність
- `<`: менше
- `>`: більше
- `<=`: менше або рівне
- `>=`: більше або рівне

4. Оператори логічних операцій:

- `&&`: логічне І (AND)
- `||`: логічне АБО (OR)
- `!`: логічне НЕ (NOT)

5. Оператори бітових операцій:

- `&`: бітове І (AND)
- `|`: бітове АБО (OR)
- `^`: бітове ВИКЛЮЧНЕ АБО (XOR)
- `~`: бітове ІНВЕРТУВАННЯ (NOT)
- `<<`: зсув вліво
- `>>`: зсув вправо

6. Оператори введення/виведення:

- `>>`: ввід
- `<<`: виведення

7. Інші оператори:

- `()`: виклик функції
- `[]`: доступ до елементів масиву
- `->`: доступ до членів класу через вказівник
- `,`: оператор коми (використовується для послідовності виразів)


## Приклади перевантаження операторів

### Арифметичні операції

```cpp
class MyNumber {
public:
  int value;

  MyNumber(int val) : value(val) {}

  MyNumber operator+(const MyNumber& other) const {
    return MyNumber(value + other.value);
  }

  MyNumber operator-(const MyNumber& other) const {
    return MyNumber(value - other.value);
  }

  MyNumber operator*(const MyNumber& other) const {
    return MyNumber(value * other.value);
  }

  MyNumber operator/(const MyNumber& other) const {
    return MyNumber(value / other.value);
  }
};
```

### Операції порівняння

```cpp
class MyNumber {
public:
  int value;

  MyNumber(int val) : value(val) {}

  bool operator==(const MyNumber& other) const {
    return value == other.value;
  }

  bool operator!=(const MyNumber& other) const {
    return value != other.value;
  }

  bool operator<(const MyNumber& other) const {
    return value < other.value;
  }

  bool operator>(const MyNumber& other) const {
    return value > other.value;
  }

  bool operator<=(const MyNumber& other) const {
    return value <= other.value;
  }

  bool operator>=(const MyNumber& other) const {
    return value >= other.value;
  }
};
```

### Операції потокового введення та виведення

```cpp
class MyNumber {
public:
  int value;

  MyNumber(int val) : value(val) {}

  friend std::ostream& operator<<(std::ostream& os, const MyNumber& num) {
    os << num.value;
    return os;
  }

  friend std::istream& operator>>(std::istream& is, MyNumber& num) {
    is >> num.value;
    return is;
  }
};
```